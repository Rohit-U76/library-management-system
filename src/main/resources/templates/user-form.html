<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <title th:text="${isNew} ? 'Add New User' : 'Edit User'"></title>
</head>
<body style="font-family: Arial, sans-serif; background-color: #f0f8ff; margin: 0; padding: 20px;">

<div layout:fragment="content" style="max-width: 600px; margin: 0 auto;">

    <!-- Card -->
    <div style="background-color: white; box-shadow: 0 4px 10px rgba(0,0,0,0.1); border-radius: 8px; overflow: hidden;">

        <!-- Card Header -->
        <div style="padding: 15px; background-color: #0d6efd;">
            <h2 style="margin: 0; color: white;" th:text="${isNew} ? 'âž• Register New User' : 'ðŸ–Šï¸ Edit User Details'"></h2>
        </div>

        <!-- Card Body -->
        <div style="padding: 20px;">
            <form th:action="@{/users}" th:object="${user}" method="post">

                <input type="hidden" th:field="*{id}" />

                <!-- Name -->
                <div style="margin-bottom: 15px;">
                    <label for="name" style="font-weight: bold; display: block; margin-bottom: 5px;">Name</label>
                    <input type="text" th:field="*{name}" id="name" placeholder="Enter full name"
                           style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 5px;"
                           th:classappend="${#fields.hasErrors('name')} ? 'border-red' : ''" />
                    <div th:if="${#fields.hasErrors('name')}" th:errors="*{name}"
                         style="color: #dc3545; margin-top: 5px;">Name error</div>
                </div>

                <!-- Email -->
                <div style="margin-bottom: 15px;">
                    <label for="email" style="font-weight: bold; display: block; margin-bottom: 5px;">Email</label>
                    <input type="email" th:field="*{email}" id="email" placeholder="Enter email address"
                           style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 5px;"
                           th:classappend="${#fields.hasErrors('email')} ? 'border-red' : ''" />
                    <div th:if="${#fields.hasErrors('email')}" th:errors="*{email}"
                         style="color: #dc3545; margin-top: 5px;">Email error</div>
                </div>

                <!-- Contact -->
                <div style="margin-bottom: 20px;">
                    <label for="contact" style="font-weight: bold; display: block; margin-bottom: 5px;">Contact Number</label>
                    <input type="text" th:field="*{contact}" id="contact" placeholder="Enter contact number"
                           style="width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 5px;"
                           th:classappend="${#fields.hasErrors('contact')} ? 'border-red' : ''" />
                    <div th:if="${#fields.hasErrors('contact')}" th:errors="*{contact}"
                         style="color: #dc3545; margin-top: 5px;">Contact error</div>
                </div>

                <!-- Buttons -->
                <div style="display: flex; gap: 10px;">
                    <button type="submit"
                            style="flex: 1; padding: 10px; background-color: #0d6efd; color: white; font-size: 16px; font-weight: bold; border: none; border-radius: 5px; cursor: pointer;">
                        <span th:text="${isNew} ? 'Add User' : 'Update User'"></span> <i class="fas fa-save"></i>
                    </button>
                    <a th:href="@{/users}"
                       style="flex: 1; padding: 10px; background-color: #6c757d; color: white; font-size: 16px; font-weight: bold; border-radius: 5px; text-align: center; text-decoration: none; display: inline-block;">
                        <i class="fas fa-times-circle"></i> Cancel
                    </a>
                </div>

            </form>
        </div>
    </div>

</div>

</body>
</html>
