<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <title th:text="${isNew} ? 'Add New Book' : 'Edit Book'"></title>
</head>
<body style="font-family: Arial, sans-serif; background-color: #f0f8ff; margin: 0; padding: 20px;">

<div layout:fragment="content" style="display: flex; justify-content: center;">

    <div style="max-width: 600px; width: 100%; background-color: white; box-shadow: 0 4px 15px rgba(0,0,0,0.2); border-radius: 8px; overflow: hidden;">

        <!-- Card Header -->
        <div style="background-color: #0d6efd; padding: 15px;">
            <h2 style="margin: 0; color: white; font-weight: bold; font-size: 1.5rem;" th:text="${isNew} ? 'âž• Register New Book' : 'ðŸ–Šï¸ Edit Book Details'"></h2>
        </div>

        <!-- Card Body -->
        <div style="padding: 20px;">
            <form th:action="@{/books}" th:object="${book}" method="post" style="display: flex; flex-direction: column; gap: 15px;">
                <input type="hidden" th:field="*{id}" />

                <!-- Title -->
                <div>
                    <label for="title" style="font-weight: bold; display: block; margin-bottom: 5px;">Title</label>
                    <input type="text" th:field="*{title}" id="title" placeholder="Enter book title"
                           style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px;"
                           th:classappend="${#fields.hasErrors('title')} ? 'border-red-500' : ''">
                    <div th:if="${#fields.hasErrors('title')}" th:errors="*{title}"
                         style="color: red; font-size: 0.9rem; margin-top: 5px;">Title error</div>
                </div>

                <!-- Author -->
                <div>
                    <label for="author" style="font-weight: bold; display: block; margin-bottom: 5px;">Author</label>
                    <input type="text" th:field="*{author}" id="author" placeholder="Enter author name"
                           style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px;"
                           th:classappend="${#fields.hasErrors('author')} ? 'border-red-500' : ''">
                    <div th:if="${#fields.hasErrors('author')}" th:errors="*{author}"
                         style="color: red; font-size: 0.9rem; margin-top: 5px;">Author error</div>
                </div>

                <!-- ISBN -->
                <div>
                    <label for="isbn" style="font-weight: bold; display: block; margin-bottom: 5px;">ISBN</label>
                    <input type="text" th:field="*{isbn}" id="isbn" placeholder="Enter ISBN"
                           style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px;"
                           th:classappend="${#fields.hasErrors('isbn')} ? 'border-red-500' : ''">
                    <div th:if="${#fields.hasErrors('isbn')}" th:errors="*{isbn}"
                         style="color: red; font-size: 0.9rem; margin-top: 5px;">ISBN error</div>
                </div>

                <!-- Quantity -->
                <div>
                    <label for="quantity" style="font-weight: bold; display: block; margin-bottom: 5px;">Quantity</label>
                    <input type="number" th:field="*{quantity}" id="quantity" placeholder="Enter quantity" min="0"
                           style="width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 5px;"
                           th:classappend="${#fields.hasErrors('quantity')} ? 'border-red-500' : ''">
                    <div th:if="${#fields.hasErrors('quantity')}" th:errors="*{quantity}"
                         style="color: red; font-size: 0.9rem; margin-top: 5px;">Quantity error</div>
                </div>

                <!-- Buttons -->
                <div style="display: flex; gap: 10px; margin-top: 15px;">
                    <button type="submit" style="flex: 1; background-color: #0d6efd; color: white; padding: 10px; font-size: 1.1rem; border: none; border-radius: 5px; cursor: pointer;">
                        <span th:text="${isNew} ? 'Add Book' : 'Update Book'"></span> <i class="fas fa-save"></i>
                    </button>
                    <a th:href="@{/books}" style="flex: 1; display: flex; align-items: center; justify-content: center; background-color: white; color: #6c757d; border: 1px solid #6c757d; padding: 10px; font-size: 1.1rem; border-radius: 5px; text-decoration: none; cursor: pointer;">
                        <i class="fas fa-times-circle"></i> Cancel
                    </a>
                </div>

            </form>
        </div>
    </div>
</div>

</body>
</html>
